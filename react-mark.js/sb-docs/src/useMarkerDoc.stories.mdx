import { Meta, Canvas, Story } from "@storybook/addon-docs/blocks";
import { UnmarkOptions } from "./options";
import { TargetBlankLink } from "./TargetBlankLink";

<Meta title="Hooks/useMarker" />

# ⚡️ `useMarker`

This recipe is for more custom configuration as you can
access the `markerRef` and `marker` (which is a [MarkJS](https://markjs.io) instance).

- `markerRef` - you would pass this to the component wrapping your element.
- `marker` - a [MarkJS](https://markjs.io) instance which has an [API](https://markjs.io/#api)
  for marking and un-marking.

Lets dive into an example which will make things more clearer.

<h2>
  <TargetBlankLink href="https://stackblitz.com/edit/react-mark-js-tqjcef?file=src/examples/HookExample/index.js">
    Stack Blitz Demo ↗️
  </TargetBlankLink>
</h2>

```js
import React from "react";
import { useMarker } from "react-mark.js";

const MyContent = () => {
  const { markerRef, marker } = useMarker();

  React.useEffect(() => {
    if (marker) {
      marker.mark("orl");
    }
  }, [marker]);

  const mark = React.useCallback(() => {
    marker.mark("Hello");
    /* OR
    marker.mark(['Hello', 'World'], {});
    marker.markRanges([{ start: 3, length: 10 }]);
    marker.markRegExp(/Hello/);
    marker.unmark();

    Checkout https://markjs.io/#api for the complete API
    */
  }, [marker]);

  const unmark = React.useCallback(() => {
    marker.unmark({
      /* optional options*/
    }); // you can find the complete list of options at the end of this section
  }, [marker]);

  return (
    <div ref={markerRef}>
      Hello World
      <button onClick={mark}>Mark</button>
      &nbsp;
      <button onClick={unmark}>Unmark</button>
    </div>
  );
};

export default MyContent;
```

## ‣ _Optional_ Options (for `unmark`)

<UnmarkOptions />
