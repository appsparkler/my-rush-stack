{"version":3,"file":"MarkerCodeRendererWithCopy.js","sourceRoot":"","sources":["../../src/components/Configurator/MarkerCoderRendererWithCodeCopy/MarkerCodeRendererWithCopy.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4CAAiE;AACjE,+CAA6D;AAC7D,kFAGmD;AACnD,wDAAqE;AAI9D,MAAM,0BAA0B,GAAG,CAAC,EACzC,IAAI,EACJ,OAAO,GACyB,EAAE,EAAE;IACpC,MAAM,WAAW,GAAG,IAAA,cAAM,EAA6B,IAAI,CAAC,CAAC;IAE7D,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,IAAA,gBAAQ,EAAC,KAAK,CAAC,CAAC;IAExD,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,IAAA,gBAAQ,EAAS,EAAE,CAAC,CAAC;IAEzD,MAAM,eAAe,GAAG,IAAA,mBAAW,EAAC,GAAG,EAAE;;QACvC,MAAA,WAAW,CAAC,OAAO,0CAAE,MAAM,EAAE,CAAC;QAC9B,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC7B,eAAe,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,MAAM,YAAY,GAAG,IAAA,mBAAW,EAC9B,CAAC,UAAU,EAAE,EAAE;QACb,aAAa,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC,EACD,EAAE,CACH,CAAC;IAEF,MAAM,WAAW,GAAG,IAAA,mBAAW,EAAC,GAAG,EAAE;QACnC,eAAe,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,CACL,8BAAC,cAAG,IAAC,QAAQ,EAAC,UAAU;QACtB,8BAAC,uCAAkB,IACjB,IAAI,EAAE,IAAI,EACV,OAAO,EAAE,OAAO,EAChB,QAAQ,EAAE,YAAY,GACtB;QAEF,8BAAC,cAAG,IAAC,QAAQ,EAAC,UAAU,EAAC,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC;YACvC,8BAAC,qBAAU,kBAAY,MAAM,EAAC,KAAK,EAAC,SAAS,EAAC,OAAO,EAAE,eAAe;gBACpE,8BAAC,4BAAe,OAAG,CACR,CACT;QAEN,8BAAC,mBAAQ,IACP,IAAI,EAAE,YAAY,EAClB,gBAAgB,EAAE,IAAI,EACtB,OAAO,EAAE,WAAW,EACpB,YAAY,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE;YAEvD,8BAAC,gBAAK,IACJ,OAAO,EAAE,WAAW,EACpB,QAAQ,EAAC,SAAS,EAClB,OAAO,EAAC,QAAQ,EAChB,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,cAGf,CACC;QAEX,8BAAC,cAAG,IAAC,QAAQ,EAAC,UAAU,EAAC,IAAI,EAAE,KAAK;YAClC,4CAAU,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,IAC1C,UAAU,CACF,CACP,CACF,CACP,CAAC;AACJ,CAAC,CAAC;AAhEW,QAAA,0BAA0B,8BAgErC","sourcesContent":["import { Alert, Box, IconButton, Snackbar } from '@mui/material';\nimport React, { useCallback, useRef, useState } from 'react';\nimport {\n  MarkerCodeRenderer,\n  MarkerCodeRendererProps,\n} from '../MarkerCoderRenderer/MarkerCodeRenderer';\nimport { ContentCopy as ContentCopyIcon } from '@mui/icons-material';\n\nexport type MarkerCodeRendererWithCopyProps = MarkerCodeRendererProps & {};\n\nexport const MarkerCodeRendererWithCopy = ({\n  mark,\n  options,\n}: MarkerCodeRendererWithCopyProps) => {\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\n\n  const [openSnackbar, setOpenSnackbar] = useState(false);\n\n  const [textToCopy, setTextToCopy] = useState<string>('');\n\n  const handleClickCopy = useCallback(() => {\n    textareaRef.current?.select();\n    document.execCommand('copy');\n    setOpenSnackbar(true);\n  }, []);\n\n  const handleChange = useCallback<MarkerCodeRendererProps['onChange']>(\n    (textToCopy) => {\n      setTextToCopy(textToCopy);\n    },\n    []\n  );\n\n  const handleClose = useCallback(() => {\n    setOpenSnackbar(false);\n  }, []);\n\n  return (\n    <Box position=\"relative\">\n      <MarkerCodeRenderer\n        mark={mark}\n        options={options}\n        onChange={handleChange}\n      />\n\n      <Box position=\"absolute\" top={1} right={1}>\n        <IconButton aria-label=\"copy\" color=\"primary\" onClick={handleClickCopy}>\n          <ContentCopyIcon />\n        </IconButton>\n      </Box>\n\n      <Snackbar\n        open={openSnackbar}\n        autoHideDuration={1000}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      >\n        <Alert\n          onClose={handleClose}\n          severity=\"success\"\n          variant=\"filled\"\n          sx={{ width: '100%' }}\n        >\n          copied!\n        </Alert>\n      </Snackbar>\n\n      <Box position=\"absolute\" left={10000}>\n        <textarea ref={textareaRef} value={textToCopy}>\n          {textToCopy}\n        </textarea>\n      </Box>\n    </Box>\n  );\n};\n"]}