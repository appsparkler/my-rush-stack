{"version":3,"file":"RangesMarker.js","sourceRoot":"","sources":["../../../src/components/RangesMarker/RangesMarker.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,iCAOe;AACf,sDAAuE;AAQhE,MAAM,YAAY,GAAG,CAAC,EAKT,EAAE,EAAE;QALK,EAC3B,EAAE,GAAG,KAAK,EACV,IAAI,GAAG,EAAE,EACT,OAAO,GAAG,EAAE,OAEM,EADf,SAAS,cAJe,yBAK5B,CADa;IAEZ,MAAM,GAAG,GAAG,IAAA,cAAM,EAAC,IAAI,CAAC,CAAC;IAEzB,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,IAAA,gBAAQ,GAAU,CAAC;IAE/D,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,MAAM,cAAc,GAAG,IAAI,iBAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC/C,iBAAiB,CAAC,cAAc,CAAC,CAAC;IACpC,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,IAAI,cAAc,EAAE;YAClB,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBACpD,cAAc,CAAC,UAAU,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAC3C,CAAC,CAAC,CAAC;SACJ;IACH,CAAC,EAAE,CAAC,IAAI,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC,CAAC;IAEpC,OAAO,IAAA,qBAAa,EAAC,EAAE,kBACrB,GAAG,IACA,SAAS,EACZ,CAAC;AACL,CAAC,CAAC;AA3BW,QAAA,YAAY,gBA2BvB","sourcesContent":["import {\n  createElement,\n  ElementType,\n  HTMLAttributes,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport MarkJS, { RangeMarkerItem, RangesMarkerOptions } from 'mark.js';\n\ntype RangesMarkerProps<T = HTMLAttributes<HTMLDivElement>> = {\n  as?: string | ElementType;\n  mark?: RangeMarkerItem[];\n  options?: RangesMarkerOptions;\n} & T;\n\nexport const RangesMarker = ({\n  as = 'div',\n  mark = [],\n  options = {},\n  ...restProps\n}: RangesMarkerProps) => {\n  const ref = useRef(null);\n\n  const [markJSInstance, setMarkJSInstance] = useState<MarkJS>();\n\n  useEffect(() => {\n    const markJSInstance = new MarkJS(ref.current);\n    setMarkJSInstance(markJSInstance);\n  }, []);\n\n  useEffect(() => {\n    if (markJSInstance) {\n      Promise.resolve(markJSInstance.unmark()).then((res) => {\n        markJSInstance.markRanges(mark, options);\n      });\n    }\n  }, [mark, markJSInstance, options]);\n\n  return createElement(as, {\n    ref,\n    ...restProps,\n  });\n};\n"]}